# TandaXn Environment Variables
# Copy this to .env and fill in your actual values

# ============================================
# SUPABASE DATABASE CONNECTION
# ============================================

# Direct Connection String (for migrations and CLI tools)
# Get this from: Supabase Dashboard -> Project Settings -> Database -> Connection String -> URI
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres

DATABASE_URL="postgres://postgres:5NV9kzst52%24se@db.fjqdkyjkwqeoafwvnjgv.supabase.co:6543/postgres"


# Connection Pool URL (for production/serverless - optional for now)
# Use this in production for better connection management
# DIRECT_URL="postgresql://postgres.your-project-ref:your-password@aws-0-us-east-1.pooler.supabase.com:5432/postgres"

# ============================================
# IMPORTANT NOTES
# ============================================

# 1. PASSWORD ENCODING:
#    If your password contains special characters, encode them:
#    $ → %24
#    @ → %40
#    # → %23
#    & → %26
#    ! → %21
#
#    Example: 
#    Password: MyP@ss$123
#    Encoded:  MyP%40ss%24123

# 2. PROJECT-REF:
#    Your Supabase project reference (e.g., "abcdefghijklmnop")
#    Find it in: Project Settings -> General -> Project ID

# 3. REGION:
#    Common regions:
#    - aws-0-us-east-1 (US East)
#    - aws-0-us-west-1 (US West)
#    - aws-0-eu-central-1 (Europe)
#    - aws-0-ap-southeast-1 (Asia)

# 4. PORT:
#    - 6543: Pooler connection (recommended for most cases)
#    - 5432: Direct connection (use for migrations)

# ============================================
# HOW TO GET YOUR DATABASE_URL
# ============================================

# Step 1: Go to Supabase Dashboard
# Step 2: Select your project
# Step 3: Go to Project Settings (gear icon)
# Step 4: Click "Database" in the sidebar
# Step 5: Scroll to "Connection String"
# Step 6: Select "URI" tab
# Step 7: Click "Use connection pooling" (for 6543 port)
# Step 8: Copy the connection string
# Step 9: Replace [YOUR-PASSWORD] with your actual password
# Step 10: Paste it as DATABASE_URL value above

# ============================================
# VERIFICATION CHECKLIST
# ============================================

# ✅ Replace "your-project-ref" with your actual project reference
# ✅ Replace "your-password" with your actual database password
# ✅ Encode special characters in password (see encoding guide above)
# ✅ Verify the region matches your Supabase project
# ✅ Use port 6543 for pooled connections
# ✅ Remove quotes if running tests in terminal (keep for .env file)
# ✅ Make sure .env file is in your project root directory
# ✅ Make sure .env is in .gitignore (NEVER commit passwords!)

# ============================================
# TROUBLESHOOTING
# ============================================

# Issue: "Authentication failed"
# Solution: Double-check password, ensure special chars are encoded

# Issue: "Can't reach database server"  
# Solution: Check project reference and region are correct

# Issue: "ENOTFOUND"
# Solution: Verify the full hostname is correct

# Issue: "Connection timeout"
# Solution: Check if your IP is whitelisted in Supabase dashboard

# Issue: "SSL certificate error"
# Solution: Add ?sslmode=require to the end of your DATABASE_URL

# ============================================
# STRIPE KEYS (for later)
# ============================================

# STRIPE_SECRET_KEY="sk_test_..."
# STRIPE_PUBLISHABLE_KEY="pk_test_..."
# STRIPE_WEBHOOK_SECRET="whsec_..."

# ============================================
# PLAID KEYS (for later)
# ============================================

# PLAID_CLIENT_ID=""
# PLAID_SECRET=""
# PLAID_ENV="sandbox"

# ============================================
# VERIFF KEYS (for later)
# ============================================

# VERIFF_API_KEY=""
# VERIFF_SECRET_KEY=""

# ============================================
# APP CONFIGURATION (for later)
# ============================================

# NODE_ENV="development"
# APP_URL="http://localhost:3000"
# API_URL="http://localhost:3000/api"

# ============================================
# SECURITY (for later)
# ============================================

# JWT_SECRET="your-super-secret-jwt-key-here-min-32-chars"
# ENCRYPTION_KEY="your-super-secret-encryption-key-min-32-chars"
